# Funnel Insights

Funnel Insights æ˜¯ä¸€ä¸ªé¢å‘äº§å“ä¸æ•°æ®åˆ†æåœºæ™¯çš„è½»é‡çº§æ¼æ–—åˆ†æå·¥å…·ï¼Œç”¨äºå¿«é€Ÿå‘ç°è½¬åŒ–ç‡å¼‚å¸¸å¹¶å®šä½æ½œåœ¨é—®é¢˜ç¯èŠ‚ã€‚

å®ƒå¯ä»¥åŸºäºç”¨æˆ·äº‹ä»¶æ•°æ®ï¼š

- æ„å»ºä»»æ„ N æ­¥è½¬åŒ–æ¼æ–—
- å¯¹æ¯”ä¸åŒæ—¶é—´çª—å£çš„è½¬åŒ–å˜åŒ–
- è‡ªåŠ¨å®šä½å¼‚å¸¸ä¸‹é™æ­¥éª¤
- æ¨èå¯è§£é‡Šçš„æ‹†è§£ç»´åº¦ï¼Œè¾…åŠ©åˆ†æåŸå› 

é¡¹ç›®é‡‡ç”¨ **UI ä¸æ ¸å¿ƒé€»è¾‘è§£è€¦** çš„å·¥ç¨‹ç»“æ„è®¾è®¡ï¼š

- Streamlit ä»…è´Ÿè´£äº¤äº’ä¸ç»“æœå±•ç¤º
- æ ¸å¿ƒåˆ†æé€»è¾‘å¯ç‹¬ç«‹æµ‹è¯•ã€å¤ç”¨ä¸æ‰©å±•
- 
## âœ¨ Features

- ğŸ”¢ æ”¯æŒä»»æ„ N æ­¥æ¼æ–—åˆ†æ
- ğŸ” ä¸¥æ ¼ / éä¸¥æ ¼æ¼æ–—æ¨¡å¼
- ğŸ“‰ è‡ªåŠ¨è®¡ç®—è½¬åŒ–ç‡ä¸ç¯æ¯”å˜åŒ–ï¼ˆppï¼‰
- ğŸš¨ æ™ºèƒ½åˆ¤æ–­å¼‚å¸¸ä¸‹é™ç­‰çº§
- ğŸ§  è‡ªåŠ¨æ¨èå¯è§£é‡Šçš„æ‹†è§£ç»´åº¦ï¼ˆå¦‚ deviceã€countryï¼‰
- âš¡ åŸºäº DuckDB çš„ SQL åˆ†æï¼Œé€Ÿåº¦å¿«ã€é›¶å¤–éƒ¨ä¾èµ–
- ğŸ§ª æ ¸å¿ƒé€»è¾‘å·²è¦†ç›– pytest è‡ªåŠ¨æµ‹è¯•

## ğŸš€ Quick Start

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ä½ çš„ç”¨æˆ·å/funnel-insights.git
cd funnel-insights
```
### 2. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰ä½†æ¨èï¼‰
```bash
python -m venv .venv
source .venv/bin/activate   # Windows ä½¿ç”¨ .venv\Scripts\activate
```
### 3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```
### 4. å¯åŠ¨ Streamlit åº”ç”¨
```bash
streamlit run app/Analyzer.py

å¯åŠ¨ååœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
[http://localhost:8501](https://funnel-insights-e3grejmnubghatgg43yenf.streamlit.app/)
```

## ğŸ“ Project Structure
```bash
funnel-insights/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Analyzer.py        # Streamlit UI å…¥å£
â”‚   â””â”€â”€ core.py            # æ ¸å¿ƒæ¼æ–—åˆ†æé€»è¾‘
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_core.py       # core æ¨¡å—çš„ pytest æµ‹è¯•
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ secrets.toml       # æœ¬åœ° / äº‘ç«¯é…ç½®ï¼ˆä¸å…¥åº“ï¼‰
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ pytest.ini
â””â”€â”€ README.md

æ ¸å¿ƒåˆ†æé€»è¾‘å…¨éƒ¨é›†ä¸­åœ¨ `app/core.py` ä¸­ï¼Œé¿å…ä¸ UI è€¦åˆï¼Œä¾¿äºæµ‹è¯•ã€å¤ç”¨å’Œåç»­æ‰©å±•ã€‚
```

## ğŸ§ª Testing

é¡¹ç›®æ ¸å¿ƒé€»è¾‘å·²ä½¿ç”¨ pytest è¦†ç›–ã€‚

åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š

```bash
pytest -q
```

## ğŸ›  Tech Stack
- Python
- Streamlit
- DuckDB
- Pandas
- Pytest


æµ‹è¯•å°†éªŒè¯ï¼š
  - æ¼æ–— SQL ç”Ÿæˆé€»è¾‘
  - è½¬åŒ–ç‡ä¸ç¯æ¯”å˜åŒ–è®¡ç®—
  - å¼‚å¸¸æ­¥éª¤è¯†åˆ«ä¸åˆ¤å®šé€»è¾‘

## ğŸ“Œ Notes
- å½“å‰ç¤ºä¾‹æ•°æ®ä¸ºæ¨¡æ‹Ÿç”Ÿæˆï¼Œåç»­å¯æ¥å…¥çœŸå®åŸ‹ç‚¹æ•°æ®
- é¡¹ç›®ç»“æ„æ”¯æŒè¿›ä¸€æ­¥æ‰©å±•ä¸º API æˆ–å®šæ—¶åˆ†æä»»åŠ¡
